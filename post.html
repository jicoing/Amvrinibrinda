<!DOCTYPE html>
<html>
<head>
  <title>Post</title>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>

<div id="post"></div>

<script>
const slug = new URLSearchParams(location.search).get('slug');

fetch('/blog/posts.json')
  .then(r => r.json())
  .then(data => {
    const p = data.posts.find(x => x.slug === slug);
    if (!p) return;

    document.getElementById('post').innerHTML = `
      <h1>${p.title}</h1>
      <img src="${p.image}" width="600">
      <p>${new Date(p.date).toDateString()}</p>
      <div>${marked.parse(p.content)}</div>
    `;
  });
</script>

</body>
</html>
